A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN lcd.OBJ
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\a51.exe lcd.asm XR GEN DB EP NOMOD51 INCDIR(c:\SiLabs\MCU\Inc) 

LOC  OBJ            LINE     SOURCE

                       1     public init_lcd, refresh_screen, blank_screen, screen, font5x8;
                       2     
                       3     ?PR?lcd segment code
----                   4             rseg ?PR?lcd
                       5     
                       6     ;$include (c8051f020.inc)
                +1     7     ;-----------------------------------------------------------------------------
                +1     8     ;       
                +1     9     ;       
                +1    10     ;
                +1    11     ;
                +1    12     ;       FILE NAME       : C8051F020.INC 
                +1    13     ;       TARGET MCUs     : C8051F020, 'F021, 'F022, 'F023 
                +1    14     ;       DESCRIPTION     : Register/bit definitions for the C8051F02x product family.  
                +1    15     ;
                +1    16     ;       REVISION 1.0    
                +1    17     ;
                +1    18     ;-----------------------------------------------------------------------------
                +1    19     ;REGISTER DEFINITIONS
                +1    20     ;
  0080          +1    21     P0       DATA  080H   ; PORT 0
  0081          +1    22     SP       DATA  081H   ; STACK POINTER
  0082          +1    23     DPL      DATA  082H   ; DATA POINTER - LOW BYTE
  0083          +1    24     DPH      DATA  083H   ; DATA POINTER - HIGH BYTE
  0084          +1    25     P4       DATA  084H   ; PORT 4
  0085          +1    26     P5       DATA  085H   ; PORT 5
  0086          +1    27     P6       DATA  086H   ; PORT 6
  0087          +1    28     PCON     DATA  087H   ; POWER CONTROL
  0088          +1    29     TCON     DATA  088H   ; TIMER CONTROL
  0089          +1    30     TMOD     DATA  089H   ; TIMER MODE
  008A          +1    31     TL0      DATA  08AH   ; TIMER 0 - LOW BYTE
  008B          +1    32     TL1      DATA  08BH   ; TIMER 1 - LOW BYTE
  008C          +1    33     TH0      DATA  08CH   ; TIMER 0 - HIGH BYTE
  008D          +1    34     TH1      DATA  08DH   ; TIMER 1 - HIGH BYTE
  008E          +1    35     CKCON    DATA  08EH   ; CLOCK CONTROL
  008F          +1    36     PSCTL    DATA  08FH   ; PROGRAM STORE R/W CONTROL
  0090          +1    37     P1       DATA  090H   ; PORT 1
  0091          +1    38     TMR3CN   DATA  091H   ; TIMER 3 CONTROL
  0092          +1    39     TMR3RLL  DATA  092H   ; TIMER 3 RELOAD REGISTER - LOW BYTE
  0093          +1    40     TMR3RLH  DATA  093H   ; TIMER 3 RELOAD REGISTER - HIGH BYTE
  0094          +1    41     TMR3L    DATA  094H   ; TIMER 3 - LOW BYTE
  0095          +1    42     TMR3H    DATA  095H   ; TIMER 3 - HIGH BYTE
  0096          +1    43     P7       DATA  096H   ; PORT 7
  0098          +1    44     SCON0    DATA  098H   ; SERIAL PORT 0 CONTROL
  0099          +1    45     SBUF0    DATA  099H   ; SERIAL PORT 0 BUFFER
  009A          +1    46     SPI0CFG  DATA  09AH   ; SERIAL PERIPHERAL INTERFACE 0 CONFIGURATION
  009B          +1    47     SPI0DAT  DATA  09BH   ; SERIAL PERIPHERAL INTERFACE 0 DATA
  009C          +1    48     ADC1     DATA  09CH   ; ADC 1 DATA
  009D          +1    49     SPI0CKR  DATA  09DH   ; SERIAL PERIPHERAL INTERFACE 0 CLOCK RATE CONTROL
  009E          +1    50     CPT0CN   DATA  09EH   ; COMPARATOR 0 CONTROL
  009F          +1    51     CPT1CN   DATA  09FH   ; COMPARATOR 1 CONTROL 
  00A0          +1    52     P2       DATA  0A0H   ; PORT 2
  00A1          +1    53     EMI0TC   DATA  0A1H   ; EMIF TIMING CONTROL
  00A3          +1    54     EMI0CF   DATA  0A3H   ; EXTERNAL MEMORY INTERFACE (EMIF) CONFIGURATION
  00A4          +1    55     P0MDOUT  DATA  0A4H   ; PORT 0 OUTPUT MODE CONFIGURATION
  00A5          +1    56     P1MDOUT  DATA  0A5H   ; PORT 1 OUTPUT MODE CONFIGURATION
  00A6          +1    57     P2MDOUT  DATA  0A6H   ; PORT 2 OUTPUT MODE CONFIGURATION
  00A7          +1    58     P3MDOUT  DATA  0A7H   ; PORT 3 OUTPUT MODE CONFIGURATION
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE     2

  00A8          +1    59     IE       DATA  0A8H   ; INTERRUPT ENABLE
  00A9          +1    60     SADDR0   DATA  0A9H   ; SERIAL PORT 0 SLAVE ADDRESS
  00AA          +1    61     ADC1CN  DATA  0AAH   ; ADC 1 CONTROL
  00AB          +1    62     ADC1CF   DATA  0ABH   ; ADC 1 ANALOG MUX CONFIGURATION
  00AC          +1    63     AMX1SL   DATA  0ACH   ; ADC 1 ANALOG MUX CHANNEL SELECT
  00AD          +1    64     P3IF     DATA  0ADH   ; PORT 3 EXTERNAL INTERRUPT FLAGS
  00AE          +1    65     SADEN1   DATA  0AEH   ; SERIAL PORT 1 SLAVE ADDRESS MASK
  00AF          +1    66     EMI0CN   DATA  0AFH   ; EXTERNAL MEMORY INTERFACE CONTROL
  00B0          +1    67     P3       DATA  0B0H   ; PORT 3
  00B1          +1    68     OSCXCN   DATA  0B1H   ; EXTERNAL OSCILLATOR CONTROL
  00B2          +1    69     OSCICN   DATA  0B2H   ; INTERNAL OSCILLATOR CONTROL
  00B5          +1    70     P74OUT   DATA  0B5H   ; PORTS 4 - 7 OUTPUT MODE
  00B6          +1    71     FLSCL    DATA  0B6H   ; FLASH MEMORY TIMING PRESCALER
  00B7          +1    72     FLACL    DATA  0B7H   ; FLASH ACESS LIMIT 
  00B8          +1    73     IP       DATA  0B8H   ; INTERRUPT PRIORITY
  00B9          +1    74     SADEN0   DATA  0B9H   ; SERIAL PORT 0 SLAVE ADDRESS MASK
  00BA          +1    75     AMX0CF   DATA  0BAH   ; ADC 0 MUX CONFIGURATION
  00BB          +1    76     AMX0SL   DATA  0BBH   ; ADC 0 MUX CHANNEL SELECTION
  00BC          +1    77     ADC0CF   DATA  0BCH   ; ADC 0 CONFIGURATION
  00BD          +1    78     P1MDIN   DATA  0BDH   ; PORT 1 INPUT MODE
  00BE          +1    79     ADC0L    DATA  0BEH   ; ADC 0 DATA - LOW BYTE
  00BF          +1    80     ADC0H    DATA  0BFH   ; ADC 0 DATA - HIGH BYTE 
  00C0          +1    81     SMB0CN   DATA  0C0H   ; SMBUS 0 CONTROL
  00C1          +1    82     SMB0STA  DATA  0C1H   ; SMBUS 0 STATUS
  00C2          +1    83     SMB0DAT  DATA  0C2H   ; SMBUS 0 DATA 
  00C3          +1    84     SMB0ADR  DATA  0C3H   ; SMBUS 0 SLAVE ADDRESS
  00C4          +1    85     ADC0GTL  DATA  0C4H   ; ADC 0 GREATER-THAN REGISTER - LOW BYTE
  00C5          +1    86     ADC0GTH  DATA  0C5H   ; ADC 0 GREATER-THAN REGISTER - HIGH BYTE
  00C6          +1    87     ADC0LTL  DATA  0C6H   ; ADC 0 LESS-THAN REGISTER - LOW BYTE
  00C7          +1    88     ADC0LTH  DATA  0C7H   ; ADC 0 LESS-THAN REGISTER - HIGH BYTE
  00C8          +1    89     T2CON    DATA  0C8H   ; TIMER 2 CONTROL
  00C9          +1    90     T4CON    DATA  0C9H   ; TIMER 4 CONTROL
  00CA          +1    91     RCAP2L   DATA  0CAH   ; TIMER 2 CAPTURE REGISTER - LOW BYTE
  00CB          +1    92     RCAP2H   DATA  0CBH   ; TIMER 2 CAPTURE REGISTER - HIGH BYTE
  00CC          +1    93     TL2      DATA  0CCH   ; TIMER 2 - LOW BYTE
  00CD          +1    94     TH2      DATA  0CDH   ; TIMER 2 - HIGH BYTE
  00CF          +1    95     SMB0CR   DATA  0CFH   ; SMBUS 0 CLOCK RATE
  00D0          +1    96     PSW      DATA  0D0H   ; PROGRAM STATUS WORD
  00D1          +1    97     REF0CN   DATA  0D1H   ; VOLTAGE REFERENCE 0 CONTROL
  00D2          +1    98     DAC0L    DATA  0D2H   ; DAC 0 REGISTER - LOW BYTE
  00D3          +1    99     DAC0H    DATA  0D3H   ; DAC 0 REGISTER - HIGH BYTE
  00D4          +1   100     DAC0CN   DATA  0D4H   ; DAC 0 CONTROL
  00D5          +1   101     DAC1L    DATA  0D5H   ; DAC 1 REGISTER - LOW BYTE
  00D6          +1   102     DAC1H    DATA  0D6H   ; DAC 1 REGISTER - HIGH BYTE
  00D7          +1   103     DAC1CN   DATA  0D7H   ; DAC 1 CONTROL
  00D8          +1   104     PCA0CN   DATA  0D8H   ; PCA 0 COUNTER CONTROL
  00D9          +1   105     PCA0MD   DATA  0D9H   ; PCA 0 COUNTER MODE
  00DA          +1   106     PCA0CPM0 DATA  0DAH   ; CONTROL REGISTER FOR PCA 0 MODULE 0
  00DB          +1   107     PCA0CPM1 DATA  0DBH   ; CONTROL REGISTER FOR PCA 0 MODULE 1
  00DC          +1   108     PCA0CPM2 DATA  0DCH   ; CONTROL REGISTER FOR PCA 0 MODULE 2
  00DD          +1   109     PCA0CPM3 DATA  0DDH   ; CONTROL REGISTER FOR PCA 0 MODULE 3
  00DE          +1   110     PCA0CPM4 DATA  0DEH   ; CONTROL REGISTER FOR PCA 0 MODULE 4
  00E0          +1   111     ACC      DATA  0E0H   ; ACCUMULATOR
  00E1          +1   112     XBR0     DATA  0E1H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 0
  00E2          +1   113     XBR1     DATA  0E2H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 1
  00E3          +1   114     XBR2     DATA  0E3H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 2
  00E4          +1   115     RCAP4L   DATA  0E4H   ; TIMER 4 CAPTURE REGISTER - LOW BYTE
  00E5          +1   116     RCAP4H   DATA  0E5H   ; TIMER 4 CAPTURE REGISTER - HIGH BYTE
  00E6          +1   117     EIE1     DATA  0E6H   ; EXTERNAL INTERRUPT ENABLE 1
  00E7          +1   118     EIE2     DATA  0E7H   ; EXTERNAL INTERRUPT ENABLE 2
  00E8          +1   119     ADC0CN   DATA  0E8H   ; ADC 0 CONTROL
  00E9          +1   120     PCA0L    DATA  0E9H   ; PCA 0 TIMER - LOW BYTE
  00EA          +1   121     PCA0CPL0 DATA  0EAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - LOW BYTE
  00EB          +1   122     PCA0CPL1 DATA  0EBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - LOW BYTE
  00EC          +1   123     PCA0CPL2 DATA  0ECH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - LOW BYTE
  00ED          +1   124     PCA0CPL3 DATA  0EDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - LOW BYTE
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE     3

  00EE          +1   125     PCA0CPL4 DATA  0EEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - LOW BYTE
  00EF          +1   126     RSTSRC   DATA  0EFH   ; RESET SOURCE 
  00F0          +1   127     B        DATA  0F0H   ; B REGISTER
  00F1          +1   128     SCON1    DATA  0F1H   ; SERIAL PORT 1 CONTROL
  00F2          +1   129     SBUF1    DATA  0F2H   ; SERAIL PORT 1 DATA
  00F3          +1   130     SADDR1   DATA  0F3H   ; SERAIL PORT 1 
  00F4          +1   131     TL4      DATA  0F4H   ; TIMER 4 DATA - LOW BYTE
  00F5          +1   132     TH4      DATA  0F5H   ; TIMER 4 DATA - HIGH BYTE
  00F6          +1   133     EIP1     DATA  0F6H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 1
  00F7          +1   134     EIP2     DATA  0F7H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 2
  00F8          +1   135     SPI0CN   DATA  0F8H   ; SERIAL PERIPHERAL INTERFACE 0 CONTROL 
  00F9          +1   136     PCA0H    DATA  0F9H   ; PCA 0 TIMER - HIGH BYTE
  00FA          +1   137     PCA0CPH0 DATA  0FAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - HIGH BYTE
  00FB          +1   138     PCA0CPH1 DATA  0FBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - HIGH BYTE
  00FC          +1   139     PCA0CPH2 DATA  0FCH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - HIGH BYTE
  00FD          +1   140     PCA0CPH3 DATA  0FDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - HIGH BYTE
  00FE          +1   141     PCA0CPH4 DATA  0FEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - HIGH BYTE
  00FF          +1   142     WDTCN    DATA  0FFH   ; WATCHDOG TIMER CONTROL 
                +1   143     ;
                +1   144     ;------------------------------------------------------------------------------
                +1   145     ;BIT DEFINITIONS
                +1   146     ;
                +1   147     ; TCON 88H
  0088          +1   148     IT0      BIT   TCON.0 ; EXT. INTERRUPT 0 TYPE
  0089          +1   149     IE0      BIT   TCON.1 ; EXT. INTERRUPT 0 EDGE FLAG
  008A          +1   150     IT1      BIT   TCON.2 ; EXT. INTERRUPT 1 TYPE
  008B          +1   151     IE1      BIT   TCON.3 ; EXT. INTERRUPT 1 EDGE FLAG
  008C          +1   152     TR0      BIT   TCON.4 ; TIMER 0 ON/OFF CONTROL
  008D          +1   153     TF0      BIT   TCON.5 ; TIMER 0 OVERFLOW FLAG
  008E          +1   154     TR1      BIT   TCON.6 ; TIMER 1 ON/OFF CONTROL
  008F          +1   155     TF1      BIT   TCON.7 ; TIMER 1 OVERFLOW FLAG
                +1   156     ;
                +1   157     ; SCON0 98H
  0098          +1   158     RI       BIT   SCON0.0 ; RECEIVE INTERRUPT FLAG
  0099          +1   159     TI       BIT   SCON0.1 ; TRANSMIT INTERRUPT FLAG
  009A          +1   160     RB8      BIT   SCON0.2 ; RECEIVE BIT 8
  009B          +1   161     TB8      BIT   SCON0.3 ; TRANSMIT BIT 8
  009C          +1   162     REN      BIT   SCON0.4 ; RECEIVE ENABLE
  009D          +1   163     SM2      BIT   SCON0.5 ; MULTIPROCESSOR COMMUNICATION ENABLE
  009E          +1   164     SM1      BIT   SCON0.6 ; SERIAL MODE CONTROL BIT 1
  009F          +1   165     SM0      BIT   SCON0.7 ; SERIAL MODE CONTROL BIT 0
                +1   166     ; 
                +1   167     ; IE A8H
  00A8          +1   168     EX0      BIT   IE.0   ; EXTERNAL INTERRUPT 0 ENABLE
  00A9          +1   169     ET0      BIT   IE.1   ; TIMER 0 INTERRUPT ENABLE
  00AA          +1   170     EX1      BIT   IE.2   ; EXTERNAL INTERRUPT 1 ENABLE
  00AB          +1   171     ET1      BIT   IE.3   ; TIMER 1 INTERRUPT ENABLE
  00AC          +1   172     ES       BIT   IE.4   ; SERIAL PORT INTERRUPT ENABLE
  00AD          +1   173     ET2      BIT   IE.5   ; TIMER 2 INTERRUPT ENABLE
  00AF          +1   174     EA       BIT   IE.7   ; GLOBAL INTERRUPT ENABLE
                +1   175     ;
                +1   176     ; IP B8H
  00B8          +1   177     PX0      BIT   IP.0   ; EXTERNAL INTERRUPT 0 PRIORITY
  00B9          +1   178     PT0      BIT   IP.1   ; TIMER 0 PRIORITY
  00BA          +1   179     PX1      BIT   IP.2   ; EXTERNAL INTERRUPT 1 PRIORITY
  00BB          +1   180     PT1      BIT   IP.3   ; TIMER 1 PRIORITY
  00BC          +1   181     PS       BIT   IP.4   ; SERIAL PORT PRIORITY
  00BD          +1   182     PT2      BIT   IP.5   ; TIMER 2 PRIORITY
                +1   183     ;
                +1   184     ; SMB0CN C0H
  00C0          +1   185     SMBTOE   BIT   SMB0CN.0 ; SMBUS 0 TIMEOUT ENABLE
  00C1          +1   186     SMBFTE   BIT   SMB0CN.1 ; SMBUS 0 FREE TIMER ENABLE
  00C2          +1   187     AA       BIT   SMB0CN.2 ; SMBUS 0 ASSERT/ACKNOWLEDGE FLAG
  00C3          +1   188     SI       BIT   SMB0CN.3 ; SMBUS 0 INTERRUPT PENDING FLAG
  00C4          +1   189     STO      BIT   SMB0CN.4 ; SMBUS 0 STOP FLAG
  00C5          +1   190     STA      BIT   SMB0CN.5 ; SMBUS 0 START FLAG
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE     4

  00C6          +1   191     ENSMB    BIT   SMB0CN.6 ; SMBUS 0 ENABLE 
                +1   192     ;
                +1   193     ; T2CON C8H
  00C8          +1   194     CPRL2    BIT   T2CON.0 ; CAPTURE OR RELOAD SELECT
  00C9          +1   195     CT2      BIT   T2CON.1 ; TIMER OR COUNTER SELECT
  00CA          +1   196     TR2      BIT   T2CON.2 ; TIMER 2 ON/OFF CONTROL
  00CB          +1   197     EXEN2    BIT   T2CON.3 ; TIMER 2 EXTERNAL ENABLE FLAG
  00CC          +1   198     TCLK     BIT   T2CON.4 ; TRANSMIT CLOCK FLAG
  00CD          +1   199     RCLK     BIT   T2CON.5 ; RECEIVE CLOCK FLAG
  00CE          +1   200     EXF2     BIT   T2CON.6 ; EXTERNAL FLAG
  00CF          +1   201     TF2      BIT   T2CON.7 ; TIMER 2 OVERFLOW FLAG
                +1   202     ;
                +1   203     ; PSW D0H
  00D0          +1   204     P        BIT   PSW.0  ; ACCUMULATOR PARITY FLAG
  00D1          +1   205     F1       BIT   PSW.1  ; USER FLAG 1
  00D2          +1   206     OV       BIT   PSW.2  ; OVERFLOW FLAG
  00D3          +1   207     RS0      BIT   PSW.3  ; REGISTER BANK SELECT 0
  00D4          +1   208     RS1      BIT   PSW.4  ; REGISTER BANK SELECT 1
  00D5          +1   209     F0       BIT   PSW.5  ; USER FLAG 0
  00D6          +1   210     AC       BIT   PSW.6  ; AUXILIARY CARRY FLAG
  00D7          +1   211     CY       BIT   PSW.7  ; CARRY FLAG
                +1   212     ;
                +1   213     ; PCA0CN D8H
  00D8          +1   214     CCF0     BIT   PCA0CN.0 ; PCA 0 MODULE 0 INTERRUPT FLAG
  00D9          +1   215     CCF1     BIT   PCA0CN.1 ; PCA 0 MODULE 1 INTERRUPT FLAG
  00DA          +1   216     CCF2     BIT   PCA0CN.2 ; PCA 0 MODULE 2 INTERRUPT FLAG
  00DB          +1   217     CCF3     BIT   PCA0CN.3 ; PCA 0 MODULE 3 INTERRUPT FLAG
  00DC          +1   218     CCF4     BIT   PCA0CN.4 ; PCA 0 MODULE 4 INTERRUPT FLAG
  00DE          +1   219     CR       BIT   PCA0CN.6 ; PCA 0 COUNTER RUN CONTROL BIT
  00DF          +1   220     CF       BIT   PCA0CN.7 ; PCA 0 COUNTER OVERFLOW FLAG
                +1   221     ;
                +1   222     ; ADC0CN E8H
  00E8          +1   223     AD0LJST  BIT   ADC0CN.0 ; ADC 0 RIGHT JUSTIFY DATA BIT
  00E9          +1   224     AD0WINT  BIT   ADC0CN.1 ; ADC 0 WINDOW COMPARE INTERRUPT FLAG
  00EA          +1   225     AD0STM0  BIT   ADC0CN.2 ; ADC 0 START OF CONVERSION MODE BIT 0
  00EB          +1   226     AD0STM1  BIT   ADC0CN.3 ; ADC 0 START OF CONVERSION MODE BIT 1
  00EC          +1   227     AD0BUSY  BIT   ADC0CN.4 ; ADC 0 BUSY FLAG
  00ED          +1   228     AD0INT   BIT   ADC0CN.5 ; ADC 0 CONVERISION COMPLETE INTERRUPT FLAG 
  00EE          +1   229     AD0TM    BIT   ADC0CN.6 ; ADC 0 TRACK MODE
  00EF          +1   230     AD0EN    BIT   ADC0CN.7 ; ADC 0 ENABLE
                +1   231     ;
                +1   232     ; SPI0CN F8H
  00F8          +1   233     SPIEN    BIT   SPI0CN.0 ; SPI 0 SPI ENABLE
  00F9          +1   234     MSTEN    BIT   SPI0CN.1 ; SPI 0 MASTER ENABLE
  00FA          +1   235     SLVSEL   BIT   SPI0CN.2 ; SPI 0 SLAVE SELECT
  00FB          +1   236     TXBSY    BIT   SPI0CN.3 ; SPI 0 TX BUSY FLAG
  00FC          +1   237     RXOVRN   BIT   SPI0CN.4 ; SPI 0 RX OVERRUN FLAG
  00FD          +1   238     MODF     BIT   SPI0CN.5 ; SPI 0 MODE FAULT FLAG
  00FE          +1   239     WCOL     BIT   SPI0CN.6 ; SPI 0 WRITE COLLISION FLAG
  00FF          +1   240     SPIF     BIT   SPI0CN.7 ; SPI 0 INTERRUPT FLAG
                     241     
  B000               242     LCD_CMD   equ 0B000H ; Set this to the address of the command register
  B100               243     LCD_DAT   equ 0B100H ; Set this to the address of the data register
  0010               244     LCD_RESET equ 10H ; Mask that selects the reset line on P4 (e.g. for P4.4 use 10H)
                     245     
                     246     ;
                     247     ; subroutines wcom and w_com_a
                     248     ;   Writes a byte to the LCD command register after checking the busy flag first
                     249     ;   Assumes the external memory interface is configured for split mode with bank
                     250     ;   select.
                     251     ; inputs:
                     252     ;   wcom:   r0  = byte to write to command register
                     253     ;   wcom_a: acc = byte to write to command register
                     254     ; outputs: none
                     255     ; destroys:
                     256     ;   wcom:   EMI0CN
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE     5

                     257     ;   wcom_a: EMI0CN, r0
0000 F8              258     wcom_a: mov     r0,a            ; save acc in R0 while we check BUSY
0001 75AFB0          259     wcom:   mov     EMI0CN,#HIGH LCD_CMD ; command/status register
0004 E2              260     wcom1:  movx    a,@r0           ; r0 has no relevance here
0005 20E7FC          261             jb      acc.7,wcom1     ; wait for not BUSY
0008 E8              262             mov     a,r0            ; get the actual data to write
0009 F2              263             movx    @r0,a           ; write the command, r0 is irrelevant here
000A 22              264             ret
                     265     ;
                     266     ; subroutines wdat and w_dat_a and w_datc
                     267     ;   Writes a byte to the LCD data register after checking the busy flag first
                     268     ;   Assumes the external memory interface is configured for split mode with bank
                     269     ;   select.
                     270     ; inputs:
                     271     ;   wdat:   r0  = byte to write to data register
                     272     ;   wdat_a: acc = byte to write to data register
                     273     ;   wdat_c: acc = dptr-relative index (dptr[acc]) of byte to write to data register 
                     274     ; outputs: none
                     275     ; destroys:
                     276     ;   wdat:   EMI0CN
                     277     ;   wdat_a: EMI0CN, r0
                     278     ;   wdat_c: EMI0CN, r0
000B 93              279     wdat_c: movc    a,@a+dptr       ; lookup byte to write (handy for fonts)
000C F8              280     wdat_a: mov     r0,a            ; save it in R0 while we check BUSY
000D 75AFB0          281     wdat:   mov     EMI0CN,#HIGH LCD_CMD ; command/status register
0010 E2              282     wdat1:  movx    a,@r0           ; r0 has no relevance here
0011 20E7FC          283             jb      acc.7,wdat1     ; wait for not BUSY
0014 75AFB1          284             mov     EMI0CN,#HIGH LCD_DAT    ; data register
0017 E8              285             mov     a,r0            ; actual data to write
0018 F2              286             movx    @r0,a           ; write the data, r0 is irrelevant here
0019 22              287             ret
                     288     ;
                     289     ; Initialize controller for S64128N LCD module
                     290     ;   inputs: none
                     291     ;   outputs: none
                     292     ;   destroys: r0, r2, r3, dptr
                     293     ;
001A                 294     init_lcd:
001A 7584EF          295             mov     p4,#not LCD_RESET
001D 75A328          296             mov     emi0cf,#28H     ; B5: P4-7, B4: non-muxed, B3-2 split bank
0020 75A151          297             mov     emi0tc,#51H     ; pulse width 4 sysclock cycles
0023 75B5FF          298             mov     p74out,#0FFH    ; push-pull
0026 438410          299             orl     p4,#LCD_RESET   ; assert then deassert reset
                     300     
0029 782F            301             mov     R0,#02FH        ; Boost on, voltage Reg and follower on
002B 120000   F      302             call    wcom
002E 78A2            303             mov     R0,#0A2H;       ; 1/9bias selected
0030 120000   F      304             call    wcom
0033 78A1            305             mov     R0,#0A1H        ; reverse segment driver output seg131-seg0
0035 120000   F      306             call    wcom
0038 78C0            307             mov     R0,#0C0H        ; common output mode com0 to com63
003A 120000   F      308             call    wcom
003D 7824            309             mov     R0,#024H        ; Ra/Rb ratio
003F 120000   F      310             call    wcom
0042 7881            311             mov     R0,#081H        ; electronic vloume mode set
0044 120000   F      312             call    wcom
0047 7826            313             mov     R0,#026H        ; contrast
0049 120000   F      314             call    wcom
004C 7840            315             mov     R0,#040H        ; display line address = 0
004E 120000   F      316             call    wcom
0051 78A6            317             mov     R0,#0A6H        ; normal video
0053 120000   F      318             call    wcom
0056 78AF            319             mov     R0,#0AFH        ; display on
0058 120000   F      320             call    wcom
005B 120000   F      321             call    blank_screen    ; fall through to refresh_screen
                     322     ;
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE     6

                     323     ; subroutine refresh_screen
                     324     ;   Copies 1k bytes of data from external address 0 to the LCD. Bytes 0-7F go
                     325     ;   into page 0, bytes 80-FF go to page 1 etc.
                     326     ; inputs: none
                     327     ; outputs: none
                     328     ; destroys: r0, r2, r3, dptr, EMI0CN
                     329     ;
005E                 330     refresh_screen:
005E 900000          331             mov     dptr,#0         ; start of 1k block of memory
0061 7AB0            332             mov     r2,#0B0H        ; command to set page number to 0
0063                 333     page_loop:
0063 EA              334             mov     a,r2            ; set page number n, n = 0, 1, 2...7
0064 120000   F      335             call    wcom_a
0067 7404            336             mov     a,#04H          ; set column number to 4. If LCD is not
0069 120000   F      337             call    wcom_a          ; inverted, you will want to set column
006C 7410            338             mov     a,#10H          ; number to 0.
006E 120000   F      339             call    wcom_a
0071 7B80            340             mov     r3,#128         ; copy 128 bytes
0073                 341     byte_loop:
0073 E0              342             movx    a,@dptr         ; get byte from memory
0074 120000   F      343             call    wdat_a          ; and write it to the LCD
0077 A3              344             inc     dptr
0078 DBF9            345             djnz    r3,byte_loop
007A 0A              346             inc     r2              ; advance to next page, but bail if it is 8 (B8)
007B BAB8E5          347             cjne    r2,#0B8H,page_loop
007E 22              348             ret
                     349     
007F                 350     blank_screen:
007F 900000          351             mov     dptr,#0
0082 7400            352             mov     a,#0
0084                 353     blank_loop:
0084 F0              354             movx    @dptr,a
0085 A3              355             inc     dptr
0086 8583F0          356             mov     b,dph
0089 30F2F8          357             jnb     b.2,blank_loop
008C 22              358             ret
                     359     
008D                 360     font5x8:
008D 00000000        361       db  000H, 000H, 000H, 000H, 000H ;  
0091 00                      
0092 00065F06        362       db  000H, 006H, 05FH, 006H, 000H ; !
0096 00                      
0097 07030007        363       db  007H, 003H, 000H, 007H, 003H ; "
009B 03                      
009C 247E247E        364       db  024H, 07EH, 024H, 07EH, 024H ; #
00A0 24                      
00A1 242B6A12        365       db  024H, 02BH, 06AH, 012H, 000H ; $
00A5 00                      
00A6 63130864        366       db  063H, 013H, 008H, 064H, 063H ; %
00AA 63                      
00AB 36495620        367       db  036H, 049H, 056H, 020H, 050H ; &
00AF 50                      
00B0 00070300        368       db  000H, 007H, 003H, 000H, 000H ; '
00B4 00                      
00B5 003E4100        369       db  000H, 03EH, 041H, 000H, 000H ; (
00B9 00                      
00BA 00413E00        370       db  000H, 041H, 03EH, 000H, 000H ; )
00BE 00                      
00BF 083E1C3E        371       db  008H, 03EH, 01CH, 03EH, 008H ; *
00C3 08                      
00C4 08083E08        372       db  008H, 008H, 03EH, 008H, 008H ; +
00C8 08                      
00C9 00E06000        373       db  000H, 0E0H, 060H, 000H, 000H ; ,
00CD 00                      
00CE 08080808        374       db  008H, 008H, 008H, 008H, 008H ; -
00D2 08                      
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE     7

00D3 00606000        375       db  000H, 060H, 060H, 000H, 000H ; .
00D7 00                      
00D8 20100804        376       db  020H, 010H, 008H, 004H, 002H ; /
00DC 02                      
00DD 3E514945        377       db  03EH, 051H, 049H, 045H, 03EH ; 0
00E1 3E                      
00E2 00427F40        378       db  000H, 042H, 07FH, 040H, 000H ; 1
00E6 00                      
00E7 62514949        379       db  062H, 051H, 049H, 049H, 046H ; 2
00EB 46                      
00EC 22494949        380       db  022H, 049H, 049H, 049H, 036H ; 3
00F0 36                      
00F1 1814127F        381       db  018H, 014H, 012H, 07FH, 010H ; 4
00F5 10                      
00F6 2F494949        382       db  02FH, 049H, 049H, 049H, 031H ; 5
00FA 31                      
00FB 3C4A4949        383       db  03CH, 04AH, 049H, 049H, 030H ; 6
00FF 30                      
0100 01710905        384       db  001H, 071H, 009H, 005H, 003H ; 7
0104 03                      
0105 36494949        385       db  036H, 049H, 049H, 049H, 036H ; 8
0109 36                      
010A 06494929        386       db  006H, 049H, 049H, 029H, 01EH ; 9 ;130
010E 1E                      
010F 006C6C00        387       db  000H, 06CH, 06CH, 000H, 000H ; :
0113 00                      
0114 00EC6C00        388       db  000H, 0ECH, 06CH, 000H, 000H ; ;
0118 00                      
0119 08142241        389       db  008H, 014H, 022H, 041H, 000H ; <
011D 00                      
011E 24242424        390       db  024H, 024H, 024H, 024H, 024H ; =
0122 24                      
0123 00412214        391       db  000H, 041H, 022H, 014H, 008H ; >
0127 08                      
0128 02015909        392       db  002H, 001H, 059H, 009H, 006H ; ?
012C 06                      
012D 3E415D55        393       db  03EH, 041H, 05DH, 055H, 01EH ; @
0131 1E                      
0132 7E111111        394       db  07EH, 011H, 011H, 011H, 07EH ; A
0136 7E                      
0137 7F494949        395       db  07FH, 049H, 049H, 049H, 036H ; B
013B 36                      
013C 3E414141        396       db  03EH, 041H, 041H, 041H, 022H ; C
0140 22                      
0141 7F414141        397       db  07FH, 041H, 041H, 041H, 03EH ; D
0145 3E                      
0146 7F494949        398       db  07FH, 049H, 049H, 049H, 041H ; E
014A 41                      
014B 7F090909        399       db  07FH, 009H, 009H, 009H, 001H ; F
014F 01                      
0150 3E414949        400       db  03EH, 041H, 049H, 049H, 07AH ; G ;200
0154 7A                      
0155 7F080808        401       db  07FH, 008H, 008H, 008H, 07FH ; H
0159 7F                      
015A 00417F41        402       db  000H, 041H, 07FH, 041H, 000H ; I
015E 00                      
015F 30404040        403       db  030H, 040H, 040H, 040H, 03FH ; J
0163 3F                      
0164 7F081422        404       db  07FH, 008H, 014H, 022H, 041H ; K
0168 41                      
0169 7F404040        405       db  07FH, 040H, 040H, 040H, 040H ; L
016D 40                      
016E 7F020402        406       db  07FH, 002H, 004H, 002H, 07FH ; M
0172 7F                      
0173 7F020408        407       db  07FH, 002H, 004H, 008H, 07FH ; N
0177 7F                      
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE     8

0178 3E414141        408       db  03EH, 041H, 041H, 041H, 03EH ; O
017C 3E                      
017D 7F090909        409       db  07FH, 009H, 009H, 009H, 006H ; P
0181 06                      
0182 3E415121        410       db  03EH, 041H, 051H, 021H, 05EH ; Q
0186 5E                      
0187 7F090919        411       db  07FH, 009H, 009H, 019H, 066H ; R
018B 66                      
018C 26494949        412       db  026H, 049H, 049H, 049H, 032H ; S
0190 32                      
0191 01017F01        413       db  001H, 001H, 07FH, 001H, 001H ; T
0195 01                      
0196 3F404040        414       db  03FH, 040H, 040H, 040H, 03FH ; U
019A 3F                      
019B 1F204020        415       db  01FH, 020H, 040H, 020H, 01FH ; V
019F 1F                      
01A0 3F403C40        416       db  03FH, 040H, 03CH, 040H, 03FH ; W
01A4 3F                      
01A5 63140814        417       db  063H, 014H, 008H, 014H, 063H ; X
01A9 63                      
01AA 07087008        418       db  007H, 008H, 070H, 008H, 007H ; Y
01AE 07                      
01AF 71494543        419       db  071H, 049H, 045H, 043H, 000H ; Z
01B3 00                      
01B4 007F4141        420       db  000H, 07FH, 041H, 041H, 000H ; [
01B8 00                      
01B9 02040810        421       db  002H, 004H, 008H, 010H, 020H ; \
01BD 20                      
01BE 0041417F        422       db  000H, 041H, 041H, 07FH, 000H ; ]
01C2 00                      
01C3 04020102        423       db  004H, 002H, 001H, 002H, 004H ; ^
01C7 04                      
01C8 80808080        424       db  080H, 080H, 080H, 080H, 080H ; _
01CC 80                      
01CD 00030700        425       db  000H, 003H, 007H, 000H, 000H ; `
01D1 00                      
01D2 20545454        426       db  020H, 054H, 054H, 054H, 078H ; a
01D6 78                      
01D7 7F444444        427       db  07FH, 044H, 044H, 044H, 038H ; b
01DB 38                      
01DC 38444444        428       db  038H, 044H, 044H, 044H, 028H ; c
01E0 28                      
01E1 38444444        429       db  038H, 044H, 044H, 044H, 07FH ; d
01E5 7F                      
01E6 38545454        430       db  038H, 054H, 054H, 054H, 008H ; e
01EA 08                      
01EB 087E0909        431       db  008H, 07EH, 009H, 009H, 000H ; f
01EF 00                      
01F0 18A4A4A4        432       db  018H, 0A4H, 0A4H, 0A4H, 07CH ; g
01F4 7C                      
01F5 7F040478        433       db  07FH, 004H, 004H, 078H, 000H ; h
01F9 00                      
01FA 00007D40        434       db  000H, 000H, 07DH, 040H, 000H ; i
01FE 00                      
01FF 4080847D        435       db  040H, 080H, 084H, 07DH, 000H ; j
0203 00                      
0204 7F102844        436       db  07FH, 010H, 028H, 044H, 000H ; k
0208 00                      
0209 00007F40        437       db  000H, 000H, 07FH, 040H, 000H ; l
020D 00                      
020E 7C041804        438       db  07CH, 004H, 018H, 004H, 078H ; m
0212 78                      
0213 7C040478        439       db  07CH, 004H, 004H, 078H, 000H ; n
0217 00                      
0218 38444444        440       db  038H, 044H, 044H, 044H, 038H ; o
021C 38                      
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE     9

021D FC444444        441       db  0FCH, 044H, 044H, 044H, 038H ; p
0221 38                      
0222 38444444        442       db  038H, 044H, 044H, 044H, 0FCH ; q
0226 FC                      
0227 44784404        443       db  044H, 078H, 044H, 004H, 008H ; r
022B 08                      
022C 08545454        444       db  008H, 054H, 054H, 054H, 020H ; s
0230 20                      
0231 043E4424        445       db  004H, 03EH, 044H, 024H, 000H ; t
0235 00                      
0236 3C40207C        446       db  03CH, 040H, 020H, 07CH, 000H ; u
023A 00                      
023B 1C204020        447       db  01CH, 020H, 040H, 020H, 01CH ; v
023F 1C                      
0240 3C603060        448       db  03CH, 060H, 030H, 060H, 03CH ; w
0244 3C                      
0245 6C10106C        449       db  06CH, 010H, 010H, 06CH, 000H ; x
0249 00                      
024A 9CA0603C        450       db  09CH, 0A0H, 060H, 03CH, 000H ; y
024E 00                      
024F 6454544C        451       db  064H, 054H, 054H, 04CH, 000H ; z
0253 00                      
0254 083E4141        452       db  008H, 03EH, 041H, 041H, 000H ; {
0258 00                      
0259 00007700        453       db  000H, 000H, 077H, 000H, 000H ; |
025D 00                      
025E 0041413E        454       db  000H, 041H, 041H, 03EH, 008H ; }
0262 08                      
0263 02010201        455       db  002H, 001H, 002H, 001H, 000H ; ~
0267 00                      
0268 06090906        456       db  006H, 009H, 009H, 006H, 000H ; °
026C 00                      
                     457     
----                 458             xseg
0000                 459     screen: ds 1024
                     460     
                     461             end
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE    10

XREF SYMBOL TABLE LISTING
---- ------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES / REFERENCES

?PR?LCD. . . . . .  C SEG    026DH       REL=UNIT   3# 4
AA . . . . . . . .  B ADDR   00C0H.2 A      187#
AC . . . . . . . .  B ADDR   00D0H.6 A      210#
ACC. . . . . . . .  D ADDR   00E0H   A      111# 261 283
AD0BUSY. . . . . .  B ADDR   00E8H.4 A      227#
AD0EN. . . . . . .  B ADDR   00E8H.7 A      230#
AD0INT . . . . . .  B ADDR   00E8H.5 A      228#
AD0LJST. . . . . .  B ADDR   00E8H.0 A      223#
AD0STM0. . . . . .  B ADDR   00E8H.2 A      225#
AD0STM1. . . . . .  B ADDR   00E8H.3 A      226#
AD0TM. . . . . . .  B ADDR   00E8H.6 A      229#
AD0WINT. . . . . .  B ADDR   00E8H.1 A      224#
ADC0CF . . . . . .  D ADDR   00BCH   A      77#
ADC0CN . . . . . .  D ADDR   00E8H   A      119# 223 224 225 226 227 228 229 230
ADC0GTH. . . . . .  D ADDR   00C5H   A      86#
ADC0GTL. . . . . .  D ADDR   00C4H   A      85#
ADC0H. . . . . . .  D ADDR   00BFH   A      80#
ADC0L. . . . . . .  D ADDR   00BEH   A      79#
ADC0LTH. . . . . .  D ADDR   00C7H   A      88#
ADC0LTL. . . . . .  D ADDR   00C6H   A      87#
ADC1 . . . . . . .  D ADDR   009CH   A      48#
ADC1CF . . . . . .  D ADDR   00ABH   A      62#
ADC1CN . . . . . .  D ADDR   00AAH   A      61#
AMX0CF . . . . . .  D ADDR   00BAH   A      75#
AMX0SL . . . . . .  D ADDR   00BBH   A      76#
AMX1SL . . . . . .  D ADDR   00ACH   A      63#
B. . . . . . . . .  D ADDR   00F0H   A      127# 356 357
BLANK_LOOP . . . .  C ADDR   0084H   R   SEG=?PR?LCD   353# 357
BLANK_SCREEN . . .  C ADDR   007FH   R   SEG=?PR?LCD   1 321 350#
BYTE_LOOP. . . . .  C ADDR   0073H   R   SEG=?PR?LCD   341# 345
CCF0 . . . . . . .  B ADDR   00D8H.0 A      214#
CCF1 . . . . . . .  B ADDR   00D8H.1 A      215#
CCF2 . . . . . . .  B ADDR   00D8H.2 A      216#
CCF3 . . . . . . .  B ADDR   00D8H.3 A      217#
CCF4 . . . . . . .  B ADDR   00D8H.4 A      218#
CF . . . . . . . .  B ADDR   00D8H.7 A      220#
CKCON. . . . . . .  D ADDR   008EH   A      35#
CPRL2. . . . . . .  B ADDR   00C8H.0 A      194#
CPT0CN . . . . . .  D ADDR   009EH   A      50#
CPT1CN . . . . . .  D ADDR   009FH   A      51#
CR . . . . . . . .  B ADDR   00D8H.6 A      219#
CT2. . . . . . . .  B ADDR   00C8H.1 A      195#
CY . . . . . . . .  B ADDR   00D0H.7 A      211#
DAC0CN . . . . . .  D ADDR   00D4H   A      100#
DAC0H. . . . . . .  D ADDR   00D3H   A      99#
DAC0L. . . . . . .  D ADDR   00D2H   A      98#
DAC1CN . . . . . .  D ADDR   00D7H   A      103#
DAC1H. . . . . . .  D ADDR   00D6H   A      102#
DAC1L. . . . . . .  D ADDR   00D5H   A      101#
DPH. . . . . . . .  D ADDR   0083H   A      24# 356
DPL. . . . . . . .  D ADDR   0082H   A      23#
EA . . . . . . . .  B ADDR   00A8H.7 A      174#
EIE1 . . . . . . .  D ADDR   00E6H   A      117#
EIE2 . . . . . . .  D ADDR   00E7H   A      118#
EIP1 . . . . . . .  D ADDR   00F6H   A      133#
EIP2 . . . . . . .  D ADDR   00F7H   A      134#
EMI0CF . . . . . .  D ADDR   00A3H   A      54# 296
EMI0CN . . . . . .  D ADDR   00AFH   A      66# 259 281 284
EMI0TC . . . . . .  D ADDR   00A1H   A      53# 297
ENSMB. . . . . . .  B ADDR   00C0H.6 A      191#
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE    11

ES . . . . . . . .  B ADDR   00A8H.4 A      172#
ET0. . . . . . . .  B ADDR   00A8H.1 A      169#
ET1. . . . . . . .  B ADDR   00A8H.3 A      171#
ET2. . . . . . . .  B ADDR   00A8H.5 A      173#
EX0. . . . . . . .  B ADDR   00A8H.0 A      168#
EX1. . . . . . . .  B ADDR   00A8H.2 A      170#
EXEN2. . . . . . .  B ADDR   00C8H.3 A      197#
EXF2 . . . . . . .  B ADDR   00C8H.6 A      200#
F0 . . . . . . . .  B ADDR   00D0H.5 A      209#
F1 . . . . . . . .  B ADDR   00D0H.1 A      205#
FLACL. . . . . . .  D ADDR   00B7H   A      72#
FLSCL. . . . . . .  D ADDR   00B6H   A      71#
FONT5X8. . . . . .  C ADDR   008DH   R   SEG=?PR?LCD   1 360#
IE . . . . . . . .  D ADDR   00A8H   A      59# 168 169 170 171 172 173 174
IE0. . . . . . . .  B ADDR   0088H.1 A      149#
IE1. . . . . . . .  B ADDR   0088H.3 A      151#
INIT_LCD . . . . .  C ADDR   001AH   R   SEG=?PR?LCD   1 294#
IP . . . . . . . .  D ADDR   00B8H   A      73# 177 178 179 180 181 182
IT0. . . . . . . .  B ADDR   0088H.0 A      148#
IT1. . . . . . . .  B ADDR   0088H.2 A      150#
LCD_CMD. . . . . .  N NUMB   B000H   A      242# 259 281
LCD_DAT. . . . . .  N NUMB   B100H   A      243# 284
LCD_RESET. . . . .  N NUMB   0010H   A      244# 295 299
MODF . . . . . . .  B ADDR   00F8H.5 A      238#
MSTEN. . . . . . .  B ADDR   00F8H.1 A      234#
OSCICN . . . . . .  D ADDR   00B2H   A      69#
OSCXCN . . . . . .  D ADDR   00B1H   A      68#
OV . . . . . . . .  B ADDR   00D0H.2 A      206#
P. . . . . . . . .  B ADDR   00D0H.0 A      204#
P0 . . . . . . . .  D ADDR   0080H   A      21#
P0MDOUT. . . . . .  D ADDR   00A4H   A      55#
P1 . . . . . . . .  D ADDR   0090H   A      37#
P1MDIN . . . . . .  D ADDR   00BDH   A      78#
P1MDOUT. . . . . .  D ADDR   00A5H   A      56#
P2 . . . . . . . .  D ADDR   00A0H   A      52#
P2MDOUT. . . . . .  D ADDR   00A6H   A      57#
P3 . . . . . . . .  D ADDR   00B0H   A      67#
P3IF . . . . . . .  D ADDR   00ADH   A      64#
P3MDOUT. . . . . .  D ADDR   00A7H   A      58#
P4 . . . . . . . .  D ADDR   0084H   A      25# 295 299
P5 . . . . . . . .  D ADDR   0085H   A      26#
P6 . . . . . . . .  D ADDR   0086H   A      27#
P7 . . . . . . . .  D ADDR   0096H   A      43#
P74OUT . . . . . .  D ADDR   00B5H   A      70# 298
PAGE_LOOP. . . . .  C ADDR   0063H   R   SEG=?PR?LCD   333# 347
PCA0CN . . . . . .  D ADDR   00D8H   A      104# 214 215 216 217 218 219 220
PCA0CPH0 . . . . .  D ADDR   00FAH   A      137#
PCA0CPH1 . . . . .  D ADDR   00FBH   A      138#
PCA0CPH2 . . . . .  D ADDR   00FCH   A      139#
PCA0CPH3 . . . . .  D ADDR   00FDH   A      140#
PCA0CPH4 . . . . .  D ADDR   00FEH   A      141#
PCA0CPL0 . . . . .  D ADDR   00EAH   A      121#
PCA0CPL1 . . . . .  D ADDR   00EBH   A      122#
PCA0CPL2 . . . . .  D ADDR   00ECH   A      123#
PCA0CPL3 . . . . .  D ADDR   00EDH   A      124#
PCA0CPL4 . . . . .  D ADDR   00EEH   A      125#
PCA0CPM0 . . . . .  D ADDR   00DAH   A      106#
PCA0CPM1 . . . . .  D ADDR   00DBH   A      107#
PCA0CPM2 . . . . .  D ADDR   00DCH   A      108#
PCA0CPM3 . . . . .  D ADDR   00DDH   A      109#
PCA0CPM4 . . . . .  D ADDR   00DEH   A      110#
PCA0H. . . . . . .  D ADDR   00F9H   A      136#
PCA0L. . . . . . .  D ADDR   00E9H   A      120#
PCA0MD . . . . . .  D ADDR   00D9H   A      105#
PCON . . . . . . .  D ADDR   0087H   A      28#
PS . . . . . . . .  B ADDR   00B8H.4 A      181#
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE    12

PSCTL. . . . . . .  D ADDR   008FH   A      36#
PSW. . . . . . . .  D ADDR   00D0H   A      96# 204 205 206 207 208 209 210 211
PT0. . . . . . . .  B ADDR   00B8H.1 A      178#
PT1. . . . . . . .  B ADDR   00B8H.3 A      180#
PT2. . . . . . . .  B ADDR   00B8H.5 A      182#
PX0. . . . . . . .  B ADDR   00B8H.0 A      177#
PX1. . . . . . . .  B ADDR   00B8H.2 A      179#
RB8. . . . . . . .  B ADDR   0098H.2 A      160#
RCAP2H . . . . . .  D ADDR   00CBH   A      92#
RCAP2L . . . . . .  D ADDR   00CAH   A      91#
RCAP4H . . . . . .  D ADDR   00E5H   A      116#
RCAP4L . . . . . .  D ADDR   00E4H   A      115#
RCLK . . . . . . .  B ADDR   00C8H.5 A      199#
REF0CN . . . . . .  D ADDR   00D1H   A      97#
REFRESH_SCREEN . .  C ADDR   005EH   R   SEG=?PR?LCD   1 330#
REN. . . . . . . .  B ADDR   0098H.4 A      162#
RI . . . . . . . .  B ADDR   0098H.0 A      158#
RS0. . . . . . . .  B ADDR   00D0H.3 A      207#
RS1. . . . . . . .  B ADDR   00D0H.4 A      208#
RSTSRC . . . . . .  D ADDR   00EFH   A      126#
RXOVRN . . . . . .  B ADDR   00F8H.4 A      237#
SADDR0 . . . . . .  D ADDR   00A9H   A      60#
SADDR1 . . . . . .  D ADDR   00F3H   A      130#
SADEN0 . . . . . .  D ADDR   00B9H   A      74#
SADEN1 . . . . . .  D ADDR   00AEH   A      65#
SBUF0. . . . . . .  D ADDR   0099H   A      45#
SBUF1. . . . . . .  D ADDR   00F2H   A      129#
SCON0. . . . . . .  D ADDR   0098H   A      44# 158 159 160 161 162 163 164 165
SCON1. . . . . . .  D ADDR   00F1H   A      128#
SCREEN . . . . . .  X ADDR   0000H   A      1 459#
SI . . . . . . . .  B ADDR   00C0H.3 A      188#
SLVSEL . . . . . .  B ADDR   00F8H.2 A      235#
SM0. . . . . . . .  B ADDR   0098H.7 A      165#
SM1. . . . . . . .  B ADDR   0098H.6 A      164#
SM2. . . . . . . .  B ADDR   0098H.5 A      163#
SMB0ADR. . . . . .  D ADDR   00C3H   A      84#
SMB0CN . . . . . .  D ADDR   00C0H   A      81# 185 186 187 188 189 190 191
SMB0CR . . . . . .  D ADDR   00CFH   A      95#
SMB0DAT. . . . . .  D ADDR   00C2H   A      83#
SMB0STA. . . . . .  D ADDR   00C1H   A      82#
SMBFTE . . . . . .  B ADDR   00C0H.1 A      186#
SMBTOE . . . . . .  B ADDR   00C0H.0 A      185#
SP . . . . . . . .  D ADDR   0081H   A      22#
SPI0CFG. . . . . .  D ADDR   009AH   A      46#
SPI0CKR. . . . . .  D ADDR   009DH   A      49#
SPI0CN . . . . . .  D ADDR   00F8H   A      135# 233 234 235 236 237 238 239 240
SPI0DAT. . . . . .  D ADDR   009BH   A      47#
SPIEN. . . . . . .  B ADDR   00F8H.0 A      233#
SPIF . . . . . . .  B ADDR   00F8H.7 A      240#
STA. . . . . . . .  B ADDR   00C0H.5 A      190#
STO. . . . . . . .  B ADDR   00C0H.4 A      189#
T2CON. . . . . . .  D ADDR   00C8H   A      89# 194 195 196 197 198 199 200 201
T4CON. . . . . . .  D ADDR   00C9H   A      90#
TB8. . . . . . . .  B ADDR   0098H.3 A      161#
TCLK . . . . . . .  B ADDR   00C8H.4 A      198#
TCON . . . . . . .  D ADDR   0088H   A      29# 148 149 150 151 152 153 154 155
TF0. . . . . . . .  B ADDR   0088H.5 A      153#
TF1. . . . . . . .  B ADDR   0088H.7 A      155#
TF2. . . . . . . .  B ADDR   00C8H.7 A      201#
TH0. . . . . . . .  D ADDR   008CH   A      33#
TH1. . . . . . . .  D ADDR   008DH   A      34#
TH2. . . . . . . .  D ADDR   00CDH   A      94#
TH4. . . . . . . .  D ADDR   00F5H   A      132#
TI . . . . . . . .  B ADDR   0098H.1 A      159#
TL0. . . . . . . .  D ADDR   008AH   A      31#
TL1. . . . . . . .  D ADDR   008BH   A      32#
A51 MACRO ASSEMBLER  LCD                                                                  03/09/2021 21:56:24 PAGE    13

TL2. . . . . . . .  D ADDR   00CCH   A      93#
TL4. . . . . . . .  D ADDR   00F4H   A      131#
TMOD . . . . . . .  D ADDR   0089H   A      30#
TMR3CN . . . . . .  D ADDR   0091H   A      38#
TMR3H. . . . . . .  D ADDR   0095H   A      42#
TMR3L. . . . . . .  D ADDR   0094H   A      41#
TMR3RLH. . . . . .  D ADDR   0093H   A      40#
TMR3RLL. . . . . .  D ADDR   0092H   A      39#
TR0. . . . . . . .  B ADDR   0088H.4 A      152#
TR1. . . . . . . .  B ADDR   0088H.6 A      154#
TR2. . . . . . . .  B ADDR   00C8H.2 A      196#
TXBSY. . . . . . .  B ADDR   00F8H.3 A      236#
WCOL . . . . . . .  B ADDR   00F8H.6 A      239#
WCOM . . . . . . .  C ADDR   0001H   R   SEG=?PR?LCD   259# 302 304 306 308 310 312 314 316 318 320
WCOM1. . . . . . .  C ADDR   0004H   R   SEG=?PR?LCD   260# 261
WCOM_A . . . . . .  C ADDR   0000H   R   SEG=?PR?LCD   258# 335 337 339
WDAT . . . . . . .  C ADDR   000DH   R   SEG=?PR?LCD   281#
WDAT1. . . . . . .  C ADDR   0010H   R   SEG=?PR?LCD   282# 283
WDAT_A . . . . . .  C ADDR   000CH   R   SEG=?PR?LCD   280# 343
WDAT_C . . . . . .  C ADDR   000BH   R   SEG=?PR?LCD   279#
WDTCN. . . . . . .  D ADDR   00FFH   A      142#
XBR0 . . . . . . .  D ADDR   00E1H   A      112#
XBR1 . . . . . . .  D ADDR   00E2H   A      113#
XBR2 . . . . . . .  D ADDR   00E3H   A      114#


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
